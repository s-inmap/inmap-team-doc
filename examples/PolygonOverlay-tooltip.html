<!DOCTYPE html>
<html>

<head>
    <title>PolygonOverlay-tooltip</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
    body,
    html {
        width: 100%;
        height: 100%;
        margin: 0;
        font-family: "微软雅黑";
    }

    #allmap {
        width: 100%;
        height: 100%;
    }
    .inmap-tooltip.poly {
        border: 0;
    }
    .inmap-tooltip.rect {
        border: 0;
    }
    .inmap-tooltip.img {
        border: 0;
    }
    .ml_tooltip {
        width: 280px;
        height: 84px;
        padding: 15px;
        background-image: linear-gradient(42deg, #3848C3 0%, #3562D7 44%, #1D78F3 100%);
        border-radius: 2px 2px 0 0;
        color: #fff;
    }
    .ml_tooltip .top {
        display: flex;
        justify-content: space-between;
        margin-bottom: 6px;
    }
    .ml_tooltip .top .score {
        font-size: 20px;
    }
    .ml_tooltip .top .name {
        font-size: 13px;
    }
    .ml_tooltip .top .rank {
        text-align: right;
    }
    .ml_tooltip .top .addr {
        font-size: 14px;
    }
    .ml_tooltip .top .score {
        font-size: 20px;
    }
    .mapLabel {
        background: #fff;
        position: relative;
        /*top: -50px;*/
        width: 300px;
    }
    .mapLabel .header {
        /*width: 100%;*/
        height: 56px;
        padding: 0 18px;
        background: #F8F8F9;
        border-radius: 2px;
        border-bottom: 1px solid var(--color-gray);
    }
    .mapLabel .header .name {
        font-size: 14px;
        line-height: 22px;
        white-space: nowrap;
        width: auto;
        overflow: hidden;
        text-overflow: ellipsis;
        color: var(--color-title);
        padding-top: 6px;
        padding-right: 18px;
    }
    .mapLabel .header .type {
        font-size: 12px;
        line-height: 20px;
        white-space: nowrap;
        color: var(--color-icon);
    }
    .mapLabel .content {
        padding: 16px;
        max-height: 200px;
    }
    .mapLabel .content .box {
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 12px;
        color: var(--color-detail);
        border-bottom: 1px solid var(--color-gray);
        line-height: 28px;
    }
    .mapLabel .content .addr {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        span:last-child {
            display: block;
            width: 220px;
            line-height: 20px;
            text-align: right;
            white-space: normal;
        }
    }
    .arrow-left .mapLabel .arraw {
        border: 8px solid transparent;
        border-right-color: #fff;
        width: 0;
        height: 0;
        position: absolute;
        top: 0;
        left: -16px;
        margin-top: 18px;
    }
    .arrow-right .mapLabel .arraw {
        border: 8px solid transparent;
        border-left-color: #fff;
        width: 0;
        height: 0;
        position: absolute;
        top: 0;
        right: -16px;
        margin-top: 18px;
    }
    .arrow-bottom-left .mapLabel .arraw {
        top: auto;
        bottom: 30px;
    }
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=U3q69k0Dv0GCYNiiZeHPf7BS"></script>
    <!-- <script src="./data/geojson.js"></script> -->
    <script src="data/data3.js"></script>
    <script src="data/data4.js"></script>
    <script src="data/data5.js"></script>
    <script src="../dist/inmap.js"></script>
</head>

<body>
    <div id="allmap"></div>
</body>

</html>
<script>
var inmap = new inMap.Map({
    id: 'allmap',
    skin: "",
    // center: ["114.16248337214269", "22.559515429553684"],
    center: ["116.407395", "39.904211"],
    zoom: {
        value: 12,
        show: true,
        max: 22
    }
});
var cityData = [{
        "name": "怀柔区",
        "count": 6,
        "geometry": {
            "type": "Polygon",
            "coordinates": [
                [
                    [116.747091, 40.289012],
                    [116.728625, 40.27768],
                    [116.709155, 40.250193],
                    [116.69596, 40.245376],
                    [116.690729, 40.238148],
                    [116.6779, 40.248436],
                    [116.680046, 40.253455],
                    [116.67399, 40.268529],
                    [116.650003, 40.263534],
                    [116.64253, 40.26771],
                    [116.631717, 40.268099],
                    [116.628745, 40.256906],
                    [116.611956, 40.256896],
                    [116.605999, 40.267815],
                    [116.596966, 40.272152],
                    [116.595283, 40.27696],
                    [116.575245, 40.28369],
                    [116.548591, 40.281319],
                    [116.531402, 40.267271],
                    [116.516707, 40.265246],
                    [116.51015, 40.268826],
                    [116.499302, 40.268445],
                    [116.490948, 40.272872],
                    [116.490319, 40.28147],
                    [116.4857, 40.285507],
                    [116.478354, 40.285693],
                    [116.467389, 40.292419],
                    [116.456151, 40.29123],
                    [116.455418, 40.305618],
                    [116.450424, 40.308148],
                    [116.462589, 40.320204],
                    [116.450338, 40.328462],
                    [116.445508, 40.338512],
                    [116.440978, 40.334714],
                    [116.424033, 40.335708],
                    [116.41471, 40.341156],
                    [116.403511, 40.340843],
                    [116.391114, 40.345097],
                    [116.382782, 40.343743],
                    [116.383278, 40.339632],
                    [116.372208, 40.336545],
                    [116.376696, 40.348162],
                    [116.371407, 40.354807],
                    [116.376575, 40.36248],
                    [116.367204, 40.365132],
                    [116.355972, 40.36202],
                    [116.358915, 40.370917],
                    [116.364527, 40.369773],
                    [116.366849, 40.372596],
                    [116.330712, 40.392802],
                    [116.32033, 40.395032],
                    [116.30283, 40.390558],
                    [116.302809, 40.397019],
                    [116.298115, 40.398882],
                    [116.294252, 40.410491],
                    [116.298314, 40.415413],
                    [116.295311, 40.423285],
                    [116.300402, 40.423556],
                    [116.303176, 40.427087],
                    [116.29725, 40.441419],
                    [116.297598, 40.45096],
                    [116.30102, 40.459633],
                    [116.307951, 40.462923],
                    [116.312984, 40.47191],
                    [116.3001, 40.48286],
                    [116.298049, 40.491454],
                    [116.309445, 40.492241],
                    [116.329944, 40.505626],
                    [116.343431, 40.504415],
                    [116.367267, 40.507298],
                    [116.381831, 40.504035],
                    [116.38402, 40.502287],
                    [116.380645, 40.496169],
                    [116.386528, 40.489752],
                    [116.383863, 40.485557],
                    [116.386674, 40.484279],
                    [116.422606, 40.489365],
                    [116.434345, 40.484134],
                    [116.449914, 40.487431],
                    [116.460701, 40.486312],
                    [116.464895, 40.494083],
                    [116.475396, 40.490534],
                    [116.489905, 40.490697],
                    [116.498473, 40.487003],
                    [116.513128, 40.489169],
                    [116.52206, 40.494896],
                    [116.52601, 40.503829],
                    [116.507548, 40.516821],
                    [116.504414, 40.524345],
                    [116.483078, 40.51978],
                    [116.470726, 40.525596],
                    [116.467692, 40.530014],
                    [116.486074, 40.547264],
                    [116.491192, 40.558534],
                    [116.502782, 40.561069],
                    [116.511529, 40.568983],
                    [116.515786, 40.579132],
                    [116.519728, 40.579223],
                    [116.537972, 40.597385],
                    [116.53769, 40.601951],
                    [116.542987, 40.608184],
                    [116.539218, 40.614775],
                    [116.546791, 40.631905],
                    [116.559023, 40.631226],
                    [116.568736, 40.634041],
                    [116.575735, 40.630249],
                    [116.580678, 40.640362],
                    [116.556938, 40.648789],
                    [116.544741, 40.663101],
                    [116.540538, 40.659577],
                    [116.532942, 40.662032],
                    [116.525281, 40.666841],
                    [116.526463, 40.671055],
                    [116.520131, 40.678251],
                    [116.507849, 40.677376],
                    [116.493236, 40.680492],
                    [116.490587, 40.683313],
                    [116.495368, 40.697644],
                    [116.50889, 40.705382],
                    [116.507449, 40.711305],
                    [116.512343, 40.717226],
                    [116.509181, 40.724362],
                    [116.516762, 40.731664],
                    [116.516096, 40.741664],
                    [116.519721, 40.747528],
                    [116.508148, 40.753095],
                    [116.506499, 40.766921],
                    [116.501475, 40.766111],
                    [116.491625, 40.771204],
                    [116.487076, 40.777431],
                    [116.471654, 40.778288],
                    [116.466833, 40.787988],
                    [116.465809, 40.801684],
                    [116.44747, 40.813728],
                    [116.444065, 40.826493],
                    [116.428163, 40.829267],
                    [116.414547, 40.8381],
                    [116.409675, 40.851414],
                    [116.398134, 40.861415],
                    [116.395982, 40.86857],
                    [116.388018, 40.870016],
                    [116.372979, 40.882607],
                    [116.370645, 40.888314],
                    [116.351765, 40.899752],
                    [116.347614, 40.906754],
                    [116.341294, 40.909943],
                    [116.341397, 40.927427],
                    [116.350502, 40.938434],
                    [116.356091, 40.941893],
                    [116.366222, 40.942011],
                    [116.371789, 40.948881],
                    [116.377008, 40.949533],
                    [116.386731, 40.942197],
                    [116.39073, 40.929489],
                    [116.40532, 40.912286],
                    [116.411841, 40.911889],
                    [116.417804, 40.906134],
                    [116.437484, 40.909063],
                    [116.443315, 40.905054],
                    [116.464397, 40.906283],
                    [116.47104, 40.901834],
                    [116.48198, 40.901199],
                    [116.484397, 40.90868],
                    [116.480367, 40.925489],
                    [116.474969, 40.930353],
                    [116.474027, 40.936925],
                    [116.468234, 40.938029],
                    [116.46197, 40.954711],
                    [116.454294, 40.959251],
                    [116.460298, 40.970535],
                    [116.45844, 40.975494],
                    [116.462222, 40.986419],
                    [116.470754, 40.990036],
                    [116.48108, 40.983862],
                    [116.492175, 40.988262],
                    [116.500055, 40.983952],
                    [116.518876, 40.981207],
                    [116.541897, 40.99491],
                    [116.549328, 40.99619],
                    [116.561303, 40.993441],
                    [116.568265, 40.999457],
                    [116.575853, 40.997465],
                    [116.593919, 40.983004],
                    [116.604806, 40.980317],
                    [116.608705, 40.981829],
                    [116.620789, 40.989702],
                    [116.624011, 41.005825],
                    [116.621544, 41.009991],
                    [116.62953, 41.026888],
                    [116.628626, 41.03644],
                    [116.620554, 41.042835],
                    [116.624734, 41.0548],
                    [116.621131, 41.059024],
                    [116.643601, 41.066947],
                    [116.653655, 41.065898],
                    [116.671595, 41.05272],
                    [116.679295, 41.052473],
                    [116.687865, 41.047501],
                    [116.696099, 41.050198],
                    [116.698397, 41.046909],
                    [116.705795, 41.026769],
                    [116.689617, 41.006296],
                    [116.691074, 40.988282],
                    [116.684017, 40.982332],
                    [116.684353, 40.977063],
                    [116.694002, 40.968554],
                    [116.696178, 40.956347],
                    [116.709303, 40.946689],
                    [116.7105, 40.94191],
                    [116.714055, 40.939536],
                    [116.72282, 40.941815],
                    [116.728885, 40.939358],
                    [116.730774, 40.934475],
                    [116.723688, 40.927496],
                    [116.720083, 40.916126],
                    [116.730232, 40.912206],
                    [116.737199, 40.903386],
                    [116.74625, 40.903163],
                    [116.765923, 40.896684],
                    [116.767138, 40.886997],
                    [116.775261, 40.888742],
                    [116.778722, 40.884514],
                    [116.786922, 40.882267],
                    [116.802631, 40.868369],
                    [116.802776, 40.860829],
                    [116.808587, 40.856941],
                    [116.809863, 40.84886],
                    [116.816514, 40.854492],
                    [116.827391, 40.854037],
                    [116.8331, 40.846217],
                    [116.843358, 40.847663],
                    [116.863419, 40.840376],
                    [116.867811, 40.831679],
                    [116.882022, 40.827771],
                    [116.887754, 40.821866],
                    [116.886189, 40.810805],
                    [116.892993, 40.808082],
                    [116.88753, 40.8038],
                    [116.880807, 40.805304],
                    [116.878193, 40.800846],
                    [116.870973, 40.799848],
                    [116.873353, 40.790882],
                    [116.865295, 40.789366],
                    [116.856683, 40.780445],
                    [116.843935, 40.777746],
                    [116.842223, 40.77427],
                    [116.846935, 40.766452],
                    [116.836503, 40.755577],
                    [116.820833, 40.755713],
                    [116.809017, 40.751835],
                    [116.788182, 40.758239],
                    [116.797273, 40.735739],
                    [116.791563, 40.706773],
                    [116.775411, 40.709112],
                    [116.769977, 40.712708],
                    [116.763557, 40.712048],
                    [116.754839, 40.703671],
                    [116.733728, 40.695582],
                    [116.732454, 40.690515],
                    [116.721264, 40.685086],
                    [116.721296, 40.672256],
                    [116.716768, 40.667385],
                    [116.719117, 40.647192],
                    [116.709847, 40.636809],
                    [116.713053, 40.628286],
                    [116.708606, 40.622144],
                    [116.715193, 40.613804],
                    [116.712915, 40.608317],
                    [116.718658, 40.604902],
                    [116.715694, 40.600643],
                    [116.721748, 40.576784],
                    [116.713761, 40.569906],
                    [116.706656, 40.569252],
                    [116.703383, 40.571852],
                    [116.687892, 40.568758],
                    [116.685328, 40.563191],
                    [116.674751, 40.563193],
                    [116.672274, 40.558498],
                    [116.674829, 40.556778],
                    [116.678097, 40.560589],
                    [116.684884, 40.560994],
                    [116.684705, 40.557462],
                    [116.689141, 40.554866],
                    [116.69799, 40.554992],
                    [116.709734, 40.550485],
                    [116.708671, 40.544329],
                    [116.724271, 40.530909],
                    [116.708333, 40.516024],
                    [116.707252, 40.501858],
                    [116.700273, 40.496104],
                    [116.700721, 40.491356],
                    [116.711153, 40.484282],
                    [116.700712, 40.48694],
                    [116.699816, 40.48157],
                    [116.701874, 40.471961],
                    [116.704905, 40.472962],
                    [116.712122, 40.464819],
                    [116.723297, 40.462078],
                    [116.725414, 40.466076],
                    [116.729069, 40.464659],
                    [116.72627, 40.454868],
                    [116.730446, 40.452993],
                    [116.732345, 40.445009],
                    [116.725709, 40.447153],
                    [116.730435, 40.438671],
                    [116.731433, 40.423025],
                    [116.738991, 40.425452],
                    [116.745544, 40.419997],
                    [116.73115, 40.414646],
                    [116.724295, 40.407057],
                    [116.716332, 40.408593],
                    [116.719399, 40.404881],
                    [116.711787, 40.399874],
                    [116.718018, 40.396836],
                    [116.718338, 40.385514],
                    [116.712776, 40.379958],
                    [116.720465, 40.374373],
                    [116.72618, 40.375051],
                    [116.725356, 40.366893],
                    [116.734064, 40.3668],
                    [116.730317, 40.345563],
                    [116.737904, 40.345037],
                    [116.737468, 40.34104],
                    [116.751875, 40.34516],
                    [116.752319, 40.340124],
                    [116.758905, 40.335027],
                    [116.773408, 40.332272],
                    [116.7757, 40.329059],
                    [116.773992, 40.320718],
                    [116.767586, 40.317434],
                    [116.763176, 40.308975],
                    [116.750231, 40.302036],
                    [116.750389, 40.292323],
                    [116.747091, 40.289012]
                ]
            ]
        }
    }, {
        "name": "西城区",
        "count": 6,
        "geometry": {
            "type": "Polygon",
            "coordinates": [
                [
                    [116.387042, 39.877336],
                    [116.380369, 39.876703],
                    [116.375997, 39.876326],
                    [116.371529, 39.875904],
                    [116.36717, 39.875535],
                    [116.362341, 39.875082],
                    [116.358469, 39.874712],
                    [116.357611, 39.874702],
                    [116.357195, 39.874406],
                    [116.356657, 39.874669],
                    [116.356259, 39.874951],
                    [116.356006, 39.875209],
                    [116.355807, 39.875454],
                    [116.355668, 39.875708],
                    [116.356103, 39.879293],
                    [116.352924, 39.879304],
                    [116.352891, 39.879305],
                    [116.352861, 39.879305],
                    [116.35092, 39.879316],
                    [116.350916, 39.879429],
                    [116.350888, 39.879458],
                    [116.350914, 39.87949],
                    [116.350903, 39.879845],
                    [116.350729, 39.879844],
                    [116.350642, 39.880743],
                    [116.350555, 39.88092],
                    [116.350407, 39.881071],
                    [116.35019, 39.881239],
                    [116.349886, 39.881424],
                    [116.349555, 39.881583],
                    [116.349182, 39.881724],
                    [116.348869, 39.881793],
                    [116.348512, 39.881822],
                    [116.348208, 39.881812],
                    [116.347573, 39.881746],
                    [116.344458, 39.88151],
                    [116.344231, 39.881493],
                    [116.343962, 39.881437],
                    [116.342924, 39.881226],
                    [116.342411, 39.881005],
                    [116.342141, 39.880915],
                    [116.341905, 39.880855],
                    [116.341165, 39.880804],
                    [116.339648, 39.880914],
                    [116.338404, 39.881148],
                    [116.338254, 39.881176],
                    [116.338078, 39.88121],
                    [116.336778, 39.88144],
                    [116.335748, 39.881655],
                    [116.334307, 39.882171],
                    [116.333241, 39.882593],
                    [116.332971, 39.882596],
                    [116.331554, 39.882035],
                    [116.331521, 39.882018],
                    [116.331477, 39.882004],
                    [116.330061, 39.881764],
                    [116.327927, 39.880807],
                    [116.328119, 39.883564],
                    [116.328275, 39.887399],
                    [116.329237, 39.887387],
                    [116.329236, 39.887774],
                    [116.329207, 39.887837],
                    [116.32915, 39.887896],
                    [116.329236, 39.887932],
                    [116.329232, 39.888619],
                    [116.32922, 39.888645],
                    [116.329232, 39.88868],
                    [116.329227, 39.890094],
                    [116.330014, 39.890097],
                    [116.330038, 39.892831],
                    [116.331018, 39.89282],
                    [116.33091, 39.894008],
                    [116.33078, 39.895447],
                    [116.332047, 39.895533],
                    [116.333287, 39.895469],
                    [116.333217, 39.8956],
                    [116.333198, 39.895637],
                    [116.333196, 39.895723],
                    [116.333199, 39.895749],
                    [116.333114, 39.895789],
                    [116.333004, 39.895972],
                    [116.332885, 39.896214],
                    [116.332422, 39.896862],
                    [116.332352, 39.897113],
                    [116.332307, 39.898065],
                    [116.332351, 39.898364],
                    [116.332404, 39.898402],
                    [116.332381, 39.898454],
                    [116.332577, 39.899034],
                    [116.332609, 39.899065],
                    [116.33268, 39.899118],
                    [116.33257, 39.899172],
                    [116.3324, 39.902537],
                    [116.3324, 39.902815],
                    [116.336425, 39.902765],
                    [116.338257, 39.902776],
                    [116.339619, 39.902816],
                    [116.343923, 39.903039],
                    [116.343843, 39.90408],
                    [116.343774, 39.904245],
                    [116.343678, 39.904359],
                    [116.343555, 39.90441],
                    [116.343416, 39.904423],
                    [116.343251, 39.904389],
                    [116.343129, 39.904276],
                    [116.34299, 39.90409],
                    [116.342437, 39.904098],
                    [116.342399, 39.904098],
                    [116.341971, 39.904105],
                    [116.342048, 39.905211],
                    [116.342089, 39.907719],
                    [116.34215, 39.907993],
                    [116.34222, 39.908135],
                    [116.342568, 39.908756],
                    [116.342585, 39.909085],
                    [116.342141, 39.909428],
                    [116.341818, 39.909781],
                    [116.341608, 39.910124],
                    [116.341469, 39.910485],
                    [116.341424, 39.91091],
                    [116.341425, 39.911349],
                    [116.341457, 39.913071],
                    [116.341796, 39.913315],
                    [116.341915, 39.91336],
                    [116.341955, 39.91343],
                    [116.341954, 39.914206],
                    [116.341954, 39.91477],
                    [116.341883, 39.915269],
                    [116.341788, 39.915587],
                    [116.341682, 39.915908],
                    [116.341525, 39.916247],
                    [116.341281, 39.916803],
                    [116.341132, 39.91723],
                    [116.341054, 39.91762],
                    [116.341053, 39.918058],
                    [116.341091, 39.918367],
                    [116.341113, 39.918391],
                    [116.341108, 39.9185],
                    [116.341123, 39.918622],
                    [116.34113, 39.919885],
                    [116.341181, 39.925087],
                    [116.341238, 39.928316],
                    [116.341302, 39.928476],
                    [116.341297, 39.928543],
                    [116.341293, 39.928606],
                    [116.341279, 39.928741],
                    [116.341269, 39.928836],
                    [116.341216, 39.928935],
                    [116.341119, 39.929822],
                    [116.341113, 39.930257],
                    [116.341015, 39.930783],
                    [116.340952, 39.931368],
                    [116.340708, 39.9337],
                    [116.340645, 39.934307],
                    [116.340561, 39.934786],
                    [116.340551, 39.93522],
                    [116.340325, 39.937417],
                    [116.34022, 39.938225],
                    [116.340116, 39.939285],
                    [116.339899, 39.941386],
                    [116.3397, 39.943349],
                    [116.339656, 39.944226],
                    [116.337493, 39.944377],
                    [116.33745, 39.94475],
                    [116.337363, 39.945419],
                    [116.337329, 39.945668],
                    [116.337275, 39.945724],
                    [116.33718, 39.945759],
                    [116.337032, 39.945778],
                    [116.336813, 39.945796],
                    [116.336543, 39.945812],
                    [116.336202, 39.945784],
                    [116.336089, 39.94578],
                    [116.33574, 39.945804],
                    [116.335688, 39.945827],
                    [116.335661, 39.945875],
                    [116.335442, 39.946516],
                    [116.335398, 39.946566],
                    [116.335409, 39.946615],
                    [116.335235, 39.947094],
                    [116.335173, 39.947172],
                    [116.335121, 39.947256],
                    [116.335139, 39.947555],
                    [116.334537, 39.948085],
                    [116.335271, 39.948478],
                    [116.336065, 39.948785],
                    [116.336371, 39.948883],
                    [116.337304, 39.949049],
                    [116.33761, 39.949108],
                    [116.337906, 39.949207],
                    [116.338439, 39.949571],
                    [116.338736, 39.949731],
                    [116.339128, 39.949799],
                    [116.339495, 39.949762],
                    [116.33993, 39.949591],
                    [116.340505, 39.949185],
                    [116.340697, 39.949128],
                    [116.340871, 39.949132],
                    [116.341264, 39.949208],
                    [116.341473, 39.949199],
                    [116.342448, 39.948827],
                    [116.342632, 39.948801],
                    [116.342797, 39.948801],
                    [116.343163, 39.948826],
                    [116.343407, 39.948834],
                    [116.343686, 39.948773],
                    [116.344608, 39.948556],
                    [116.344817, 39.948165],
                    [116.344947, 39.947896],
                    [116.345295, 39.947649],
                    [116.345504, 39.947597],
                    [116.3458, 39.947766],
                    [116.345931, 39.947897],
                    [116.345983, 39.948097],
                    [116.345888, 39.948383],
                    [116.345871, 39.94853],
                    [116.345931, 39.94863],
                    [116.346288, 39.948701],
                    [116.346506, 39.948684],
                    [116.346636, 39.948614],
                    [116.346854, 39.948415],
                    [116.347184, 39.947934],
                    [116.347505, 39.94767],
                    [116.347757, 39.947601],
                    [116.348053, 39.94762],
                    [116.348871, 39.947892],
                    [116.349827, 39.948343],
                    [116.35001, 39.948778],
                    [116.350254, 39.948931],
                    [116.353224, 39.949286],
                    [116.353624, 39.949319],
                    [116.35391, 39.949278],
                    [116.355844, 39.948793],
                    [116.356304, 39.948672],
                    [116.356677, 39.948628],
                    [116.356964, 39.948627],
                    [116.357267, 39.948739],
                    [116.358152, 39.949331],
                    [116.358219, 39.9494],
                    [116.358239, 39.949413],
                    [116.358299, 39.949468],
                    [116.358291, 39.949811],
                    [116.358196, 39.950248],
                    [116.357556, 39.951964],
                    [116.357409, 39.952609],
                    [116.357426, 39.95314],
                    [116.357471, 39.953586],
                    [116.357523, 39.954091],
                    [116.357889, 39.955902],
                    [116.358002, 39.956246],
                    [116.358158, 39.956426],
                    [116.358401, 39.956564],
                    [116.359615, 39.956922],
                    [116.361833, 39.957553],
                    [116.362101, 39.957513],
                    [116.36217, 39.957397],
                    [116.362325, 39.95687],
                    [116.36249, 39.956316],
                    [116.362602, 39.955958],
                    [116.362722, 39.955564],
                    [116.362783, 39.955188],
                    [116.3628, 39.954858],
                    [116.362841, 39.952254],
                    [116.362814, 39.951024],
                    [116.362796, 39.950616],
                    [116.362837, 39.95053],
                    [116.362851, 39.950489],
                    [116.362871, 39.950459],
                    [116.362952, 39.950293],
                    [116.363531, 39.950246],
                    [116.365523, 39.950609],
                    [116.365612, 39.95063],
                    [116.365665, 39.950635],
                    [116.367149, 39.950907],
                    [116.369926, 39.951713],
                    [116.371318, 39.952143],
                    [116.371871, 39.952324],
                    [116.372398, 39.95255],
                    [116.373678, 39.953122],
                    [116.375104, 39.953733],
                    [116.375744, 39.95398],
                    [116.376444, 39.954211],
                    [116.377058, 39.954384],
                    [116.37787, 39.954561],
                    [116.378441, 39.954628],
                    [116.378312, 39.955889],
                    [116.378167, 39.957371],
                    [116.377996, 39.959095],
                    [116.377808, 39.961337],
                    [116.377603, 39.96359],
                    [116.3775, 39.964691],
                    [116.37739, 39.965574],
                    [116.377287, 39.966723],
                    [116.377194, 39.968115],
                    [116.376886, 39.971313],
                    [116.376758, 39.972435],
                    [116.37667, 39.97337],
                    [116.376887, 39.973918],
                    [116.381106, 39.974131],
                    [116.386854, 39.974357],
                    [116.38708, 39.976024],
                    [116.387359, 39.978911],
                    [116.387582, 39.978917],
                    [116.387615, 39.978929],
                    [116.38765, 39.978918],
                    [116.392871, 39.979049],
                    [116.392902, 39.97905],
                    [116.392923, 39.979051],
                    [116.396825, 39.979134],
                    [116.396864, 39.9791],
                    [116.396953, 39.979136],
                    [116.400492, 39.979201],
                    [116.400567, 39.976396],
                    [116.400558, 39.975728],
                    [116.400376, 39.975518],
                    [116.399405, 39.975486],
                    [116.398746, 39.975263],
                    [116.398355, 39.975048],
                    [116.39832, 39.974774],
                    [116.396414, 39.974709],
                    [116.396433, 39.97455],
                    [116.39645, 39.974512],
                    [116.396443, 39.974474],
                    [116.39668, 39.972519],
                    [116.394602, 39.97188],
                    [116.394601, 39.97079],
                    [116.395449, 39.970817],
                    [116.395464, 39.969433],
                    [116.394426, 39.969386],
                    [116.394417, 39.968978],
                    [116.394225, 39.967886],
                    [116.394068, 39.967202],
                    [116.393773, 39.965761],
                    [116.393181, 39.963284],
                    [116.400111, 39.963699],
                    [116.400346, 39.956809],
                    [116.400575, 39.950593],
                    [116.400641, 39.94696],
                    [116.401317, 39.946938],
                    [116.401517, 39.946891],
                    [116.402265, 39.946527],
                    [116.402314, 39.946542],
                    [116.402355, 39.946484],
                    [116.402532, 39.946397],
                    [116.403065, 39.934649],
                    [116.405183, 39.934701],
                    [116.405436, 39.934628],
                    [116.405591, 39.934471],
                    [116.405826, 39.929911],
                    [116.403187, 39.929805],
                    [116.403187, 39.929696],
                    [116.403148, 39.92964],
                    [116.403187, 39.929608],
                    [116.403187, 39.929502],
                    [116.403118, 39.92946],
                    [116.403171, 39.929433],
                    [116.403187, 39.928867],
                    [116.398558, 39.928741],
                    [116.398924, 39.921526],
                    [116.39894, 39.921125],
                    [116.398932, 39.921095],
                    [116.398943, 39.921048],
                    [116.399012, 39.91924],
                    [116.398441, 39.919206],
                    [116.398475, 39.918742],
                    [116.398336, 39.918715],
                    [116.398362, 39.918402],
                    [116.398259, 39.918366],
                    [116.398217, 39.917546],
                    [116.399056, 39.91754],
                    [116.399069, 39.915894],
                    [116.399069, 39.915881],
                    [116.399069, 39.915854],
                    [116.399076, 39.914989],
                    [116.398756, 39.914613],
                    [116.398634, 39.9142],
                    [116.401938, 39.914329],
                    [116.402193, 39.909245],
                    [116.402272, 39.908204],
                    [116.402413, 39.906426],
                    [116.402404, 39.906048],
                    [116.402473, 39.905788],
                    [116.402621, 39.905555],
                    [116.402777, 39.905394],
                    [116.403047, 39.905282],
                    [116.403802, 39.905068],
                    [116.403985, 39.905021],
                    [116.404045, 39.904986],
                    [116.40408, 39.904926],
                    [116.404089, 39.904843],
                    [116.404255, 39.902388],
                    [116.40452, 39.897333],
                    [116.404827, 39.892717],
                    [116.404977, 39.88889],
                    [116.404995, 39.887432],
                    [116.404839, 39.887449],
                    [116.404865, 39.886568],
                    [116.405116, 39.886568],
                    [116.405394, 39.880773],
                    [116.405446, 39.880559],
                    [116.405417, 39.880277],
                    [116.405499, 39.878557],
                    [116.398951, 39.878241],
                    [116.394485, 39.877959],
                    [116.394444, 39.877958],
                    [116.394394, 39.877954],
                    [116.392863, 39.877853],
                    [116.391271, 39.877731],
                    [116.387042, 39.877336]
                ]
            ]
        }
    }, {
        "name": "密云区",
        "count": 6,
        "geometry": {
            "type": "Polygon",
            "coordinates": [
                [
                    [117.318715, 40.583405],
                    [117.30663, 40.572528],
                    [117.292691, 40.570954],
                    [117.285274, 40.565991],
                    [117.277472, 40.56696],
                    [117.256053, 40.554465],
                    [117.260121, 40.546979],
                    [117.256673, 40.543648],
                    [117.270634, 40.523185],
                    [117.26966, 40.519585],
                    [117.262206, 40.521165],
                    [117.254006, 40.518402],
                    [117.245297, 40.523783],
                    [117.235134, 40.517857],
                    [117.224845, 40.520248],
                    [117.220084, 40.518384],
                    [117.214846, 40.5067],
                    [117.218545, 40.500998],
                    [117.224437, 40.500805],
                    [117.234654, 40.487729],
                    [117.232151, 40.482631],
                    [117.234847, 40.479118],
                    [117.243656, 40.47508],
                    [117.240486, 40.469378],
                    [117.24183, 40.463334],
                    [117.250057, 40.461881],
                    [117.258428, 40.456581],
                    [117.259389, 40.4526],
                    [117.269956, 40.447432],
                    [117.250863, 40.428259],
                    [117.24071, 40.423251],
                    [117.244601, 40.413871],
                    [117.242079, 40.407576],
                    [117.246893, 40.401268],
                    [117.235282, 40.39248],
                    [117.23016, 40.381665],
                    [117.224638, 40.383818],
                    [117.211416, 40.378837],
                    [117.19146, 40.383339],
                    [117.17709, 40.379966],
                    [117.171674, 40.375568],
                    [117.156313, 40.378914],
                    [117.1486, 40.368835],
                    [117.123563, 40.360142],
                    [117.107541, 40.366693],
                    [117.102576, 40.365397],
                    [117.099175, 40.361014],
                    [117.067032, 40.343195],
                    [117.060135, 40.342682],
                    [117.056208, 40.347215],
                    [117.027965, 40.342661],
                    [117.013571, 40.326148],
                    [117.017395, 40.314659],
                    [117.012687, 40.308861],
                    [117.006526, 40.308144],
                    [117.01077, 40.30193],
                    [116.981689, 40.290494],
                    [116.977132, 40.282619],
                    [116.968937, 40.279649],
                    [116.957618, 40.266705],
                    [116.968648, 40.258885],
                    [116.976416, 40.260059],
                    [116.983157, 40.256052],
                    [116.981379, 40.25061],
                    [116.969039, 40.240258],
                    [116.963991, 40.238671],
                    [116.961005, 40.241736],
                    [116.954511, 40.242003],
                    [116.952588, 40.239066],
                    [116.937555, 40.236159],
                    [116.929634, 40.22612],
                    [116.915016, 40.228407],
                    [116.912956, 40.235017],
                    [116.900683, 40.238682],
                    [116.90803, 40.244332],
                    [116.901359, 40.246281],
                    [116.880804, 40.274456],
                    [116.882623, 40.280459],
                    [116.878186, 40.288126],
                    [116.878114, 40.297185],
                    [116.865869, 40.297017],
                    [116.855447, 40.317189],
                    [116.843407, 40.315481],
                    [116.835552, 40.310124],
                    [116.836938, 40.305256],
                    [116.827555, 40.289282],
                    [116.796367, 40.295039],
                    [116.789199, 40.283027],
                    [116.773377, 40.279325],
                    [116.742079, 40.285754],
                    [116.749842, 40.291181],
                    [116.750231, 40.302036],
                    [116.763176, 40.308975],
                    [116.767586, 40.317434],
                    [116.773502, 40.319966],
                    [116.7757, 40.329059],
                    [116.773408, 40.332272],
                    [116.758905, 40.335027],
                    [116.752319, 40.340124],
                    [116.751875, 40.34516],
                    [116.737468, 40.34104],
                    [116.737904, 40.345037],
                    [116.730317, 40.345563],
                    [116.734064, 40.3668],
                    [116.725356, 40.366893],
                    [116.72618, 40.375051],
                    [116.720465, 40.374373],
                    [116.712776, 40.379958],
                    [116.718338, 40.385514],
                    [116.718018, 40.396836],
                    [116.711787, 40.399874],
                    [116.719399, 40.404881],
                    [116.716332, 40.408593],
                    [116.724295, 40.407057],
                    [116.73115, 40.414646],
                    [116.745544, 40.419997],
                    [116.738991, 40.425452],
                    [116.731433, 40.423025],
                    [116.730435, 40.438671],
                    [116.725709, 40.447153],
                    [116.732345, 40.445009],
                    [116.730446, 40.452993],
                    [116.72627, 40.454868],
                    [116.729069, 40.464659],
                    [116.725414, 40.466076],
                    [116.723297, 40.462078],
                    [116.712122, 40.464819],
                    [116.704905, 40.472962],
                    [116.701874, 40.471961],
                    [116.699816, 40.48157],
                    [116.700712, 40.48694],
                    [116.711153, 40.484282],
                    [116.700721, 40.491356],
                    [116.700273, 40.496104],
                    [116.707252, 40.501858],
                    [116.708333, 40.516024],
                    [116.724271, 40.530909],
                    [116.708671, 40.544329],
                    [116.709734, 40.550485],
                    [116.69799, 40.554992],
                    [116.689141, 40.554866],
                    [116.684705, 40.557462],
                    [116.684884, 40.560994],
                    [116.678097, 40.560589],
                    [116.674829, 40.556778],
                    [116.672274, 40.558498],
                    [116.674751, 40.563193],
                    [116.685328, 40.563191],
                    [116.687892, 40.568758],
                    [116.703383, 40.571852],
                    [116.706656, 40.569252],
                    [116.713761, 40.569906],
                    [116.721748, 40.576784],
                    [116.715694, 40.600643],
                    [116.718658, 40.604902],
                    [116.712915, 40.608317],
                    [116.715193, 40.613804],
                    [116.708606, 40.622144],
                    [116.713053, 40.628286],
                    [116.709847, 40.636809],
                    [116.719117, 40.647192],
                    [116.716768, 40.667385],
                    [116.721296, 40.672256],
                    [116.720204, 40.682918],
                    [116.732454, 40.690515],
                    [116.732679, 40.694982],
                    [116.754839, 40.703671],
                    [116.763557, 40.712048],
                    [116.769977, 40.712708],
                    [116.787129, 40.706623],
                    [116.792706, 40.707902],
                    [116.797273, 40.735739],
                    [116.788703, 40.758573],
                    [116.809017, 40.751835],
                    [116.820833, 40.755713],
                    [116.836503, 40.755577],
                    [116.846935, 40.766452],
                    [116.842223, 40.77427],
                    [116.843935, 40.777746],
                    [116.856683, 40.780445],
                    [116.865295, 40.789366],
                    [116.873353, 40.790882],
                    [116.870973, 40.799848],
                    [116.878193, 40.800846],
                    [116.88057, 40.805239],
                    [116.88753, 40.8038],
                    [116.892885, 40.8072],
                    [116.902716, 40.802763],
                    [116.900832, 40.787178],
                    [116.904179, 40.783351],
                    [116.931205, 40.778878],
                    [116.928832, 40.775259],
                    [116.934914, 40.762351],
                    [116.929774, 40.757434],
                    [116.933227, 40.750506],
                    [116.947427, 40.7457],
                    [116.949093, 40.73576],
                    [116.962045, 40.73022],
                    [116.973575, 40.720772],
                    [116.971368, 40.715297],
                    [116.986386, 40.709085],
                    [116.994745, 40.70944],
                    [117.013265, 40.700735],
                    [117.024205, 40.702127],
                    [117.037446, 40.698147],
                    [117.042863, 40.703528],
                    [117.050982, 40.706127],
                    [117.083859, 40.705539],
                    [117.117045, 40.714364],
                    [117.123842, 40.705993],
                    [117.135165, 40.707593],
                    [117.145465, 40.703391],
                    [117.154979, 40.704685],
                    [117.165492, 40.702062],
                    [117.172988, 40.705175],
                    [117.183908, 40.698821],
                    [117.190239, 40.703188],
                    [117.213667, 40.700843],
                    [117.239238, 40.69053],
                    [117.247854, 40.682875],
                    [117.265819, 40.688018],
                    [117.28477, 40.674395],
                    [117.28519, 40.670528],
                    [117.296756, 40.665822],
                    [117.325273, 40.663578],
                    [117.343505, 40.669633],
                    [117.349183, 40.679929],
                    [117.36566, 40.68007],
                    [117.378522, 40.686028],
                    [117.38768, 40.685924],
                    [117.393681, 40.690414],
                    [117.403612, 40.689399],
                    [117.42526, 40.693323],
                    [117.474027, 40.67924],
                    [117.489081, 40.68508],
                    [117.5028, 40.680909],
                    [117.518866, 40.668479],
                    [117.519238, 40.663173],
                    [117.508996, 40.658352],
                    [117.511112, 40.654206],
                    [117.506889, 40.641885],
                    [117.486378, 40.641224],
                    [117.479562, 40.652494],
                    [117.471125, 40.658055],
                    [117.463951, 40.658915],
                    [117.458277, 40.651786],
                    [117.459408, 40.639409],
                    [117.452797, 40.634061],
                    [117.44064, 40.632096],
                    [117.436179, 40.645177],
                    [117.429911, 40.644114],
                    [117.427073, 40.635802],
                    [117.431861, 40.626627],
                    [117.425849, 40.622474],
                    [117.419594, 40.610685],
                    [117.428621, 40.599276],
                    [117.429944, 40.587132],
                    [117.436559, 40.584408],
                    [117.42767, 40.574733],
                    [117.410238, 40.58003],
                    [117.394345, 40.567066],
                    [117.384646, 40.569995],
                    [117.372365, 40.582144],
                    [117.357598, 40.58647],
                    [117.345897, 40.585463],
                    [117.33686, 40.581408],
                    [117.331495, 40.584097],
                    [117.318715, 40.583405]
                ]
            ]
        }
    },
    {
        "name": "平谷区",
        "count": 9,
        "geometry": {
            "type": "Polygon",
            "coordinates": [
                [
                    [117.312852, 40.137243],
                    [117.304734, 40.127939],
                    [117.294958, 40.128355],
                    [117.279605, 40.117888],
                    [117.265484, 40.118806],
                    [117.256324, 40.123246],
                    [117.244812, 40.118023],
                    [117.230909, 40.105081],
                    [117.230708, 40.101179],
                    [117.218525, 40.102618],
                    [117.21768, 40.096426],
                    [117.220653, 40.09398],
                    [117.20939, 40.084649],
                    [117.214132, 40.081942],
                    [117.211551, 40.076383],
                    [117.205302, 40.07308],
                    [117.197521, 40.079582],
                    [117.196393, 40.088088],
                    [117.191638, 40.090649],
                    [117.187711, 40.085193],
                    [117.192644, 40.081339],
                    [117.186787, 40.075395],
                    [117.162568, 40.084471],
                    [117.166158, 40.081921],
                    [117.163131, 40.075762],
                    [117.145412, 40.070232],
                    [117.133854, 40.072364],
                    [117.125751, 40.078689],
                    [117.113428, 40.078126],
                    [117.111525, 40.080821],
                    [117.108453, 40.079034],
                    [117.109329, 40.082062],
                    [117.092588, 40.080941],
                    [117.088827, 40.070939],
                    [117.087455, 40.074568],
                    [117.076005, 40.073258],
                    [117.076984, 40.069868],
                    [117.058598, 40.065027],
                    [117.059889, 40.058892],
                    [117.043808, 40.053468],
                    [117.033794, 40.044603],
                    [117.034881, 40.040286],
                    [117.030138, 40.039658],
                    [117.030843, 40.036186],
                    [117.026726, 40.038322],
                    [117.021203, 40.037018],
                    [117.020462, 40.039126],
                    [117.006804, 40.036313],
                    [116.992473, 40.044857],
                    [116.980348, 40.043548],
                    [116.97637, 40.040536],
                    [116.974895, 40.044366],
                    [116.978993, 40.050233],
                    [116.976027, 40.054539],
                    [116.971737, 40.053862],
                    [116.968775, 40.056948],
                    [116.967875, 40.067606],
                    [116.973488, 40.070633],
                    [116.979213, 40.068741],
                    [116.980248, 40.072339],
                    [116.984917, 40.070912],
                    [116.992633, 40.084469],
                    [116.982083, 40.087328],
                    [116.988504, 40.087934],
                    [116.984839, 40.095388],
                    [116.988364, 40.095917],
                    [116.988384, 40.099014],
                    [116.986397, 40.097684],
                    [116.986655, 40.100262],
                    [116.980162, 40.102971],
                    [116.981858, 40.104264],
                    [116.974305, 40.106856],
                    [116.979769, 40.109606],
                    [116.982585, 40.117052],
                    [116.975851, 40.124356],
                    [116.978099, 40.13002],
                    [116.972333, 40.133738],
                    [116.985156, 40.15837],
                    [116.978321, 40.1609],
                    [116.975025, 40.171144],
                    [116.96789, 40.17576],
                    [116.968719, 40.181311],
                    [116.957946, 40.18045],
                    [116.957771, 40.183471],
                    [116.953465, 40.183337],
                    [116.955486, 40.196589],
                    [116.950083, 40.199561],
                    [116.947453, 40.197774],
                    [116.94253, 40.202163],
                    [116.935968, 40.217044],
                    [116.944764, 40.216515],
                    [116.946185, 40.218636],
                    [116.94742, 40.229676],
                    [116.94187, 40.235503],
                    [116.943346, 40.237369],
                    [116.952588, 40.239066],
                    [116.954511, 40.242003],
                    [116.961005, 40.241736],
                    [116.963991, 40.238671],
                    [116.968589, 40.240055],
                    [116.983208, 40.254618],
                    [116.976416, 40.260059],
                    [116.968648, 40.258885],
                    [116.957618, 40.266705],
                    [116.968937, 40.279649],
                    [116.977132, 40.282619],
                    [116.981689, 40.290494],
                    [117.01077, 40.30193],
                    [117.006526, 40.308144],
                    [117.012687, 40.308861],
                    [117.017395, 40.314659],
                    [117.013571, 40.326148],
                    [117.028689, 40.342994],
                    [117.056208, 40.347215],
                    [117.060135, 40.342682],
                    [117.067032, 40.343195],
                    [117.099175, 40.361014],
                    [117.102576, 40.365397],
                    [117.107541, 40.366693],
                    [117.123563, 40.360142],
                    [117.1486, 40.368835],
                    [117.156313, 40.378914],
                    [117.171674, 40.375568],
                    [117.17709, 40.379966],
                    [117.19085, 40.383263],
                    [117.211416, 40.378837],
                    [117.22539, 40.383829],
                    [117.233169, 40.375453],
                    [117.247735, 40.376943],
                    [117.256523, 40.364876],
                    [117.260323, 40.36458],
                    [117.266853, 40.341877],
                    [117.281496, 40.338471],
                    [117.277999, 40.331359],
                    [117.281017, 40.314661],
                    [117.294659, 40.307112],
                    [117.302803, 40.298725],
                    [117.299217, 40.291964],
                    [117.302229, 40.284148],
                    [117.3191, 40.28574],
                    [117.323711, 40.290971],
                    [117.329833, 40.291084],
                    [117.338967, 40.296487],
                    [117.34407, 40.27027],
                    [117.348886, 40.262476],
                    [117.346709, 40.252376],
                    [117.352362, 40.241581],
                    [117.358332, 40.235831],
                    [117.376571, 40.23997],
                    [117.396561, 40.23402],
                    [117.399895, 40.227142],
                    [117.389078, 40.226176],
                    [117.385593, 40.221869],
                    [117.385893, 40.214243],
                    [117.396476, 40.21168],
                    [117.387199, 40.205814],
                    [117.385937, 40.19758],
                    [117.394614, 40.194553],
                    [117.405665, 40.199028],
                    [117.415386, 40.193946],
                    [117.398516, 40.183851],
                    [117.370289, 40.18481],
                    [117.363961, 40.179371],
                    [117.357822, 40.179046],
                    [117.365124, 40.165743],
                    [117.356686, 40.15248],
                    [117.363543, 40.151422],
                    [117.361152, 40.146263],
                    [117.359362, 40.148473],
                    [117.354985, 40.142865],
                    [117.340375, 40.140389],
                    [117.330537, 40.146562],
                    [117.324993, 40.144114],
                    [117.318764, 40.145141],
                    [117.312852, 40.137243]
                ]
            ]
        }
    }
]
let rec = { "code": 200, "msg": "success.", "data": { "grids": [{ "g": "a1burbjws", "count": 100, "swY": 116.37714938, "swX": 39.9051865, "neY": 116.37825635, "neX": 39.90627544, "name": "参考消息报(Reference News)", "addr": "西城区金融街街道宣武门西大街新华社新闻大厦" }, { "g": "a1burbjwt", "count": 100, "swY": 116.37825539, "swX": 39.90520821, "neY": 116.37936235, "neX": 39.90629729, "name": "新华社新闻大厦", "addr": "西城区金融街街道宣武门西大街" }, { "g": "a1burbjwu", "count": 100, "swY": 116.37936139, "swX": 39.9052297, "neY": 116.38046837, "neX": 39.906319, "name": "宣武门(地铁站)", "addr": "西城区金融街街道宣武门西大街" }, { "g": "a1buu3jjs", "count": 100, "swY": 116.37714122, "swX": 39.91518369, "neY": 116.37824804, "neX": 39.91627267, "name": "洪城铭豪商务酒店", "addr": "西城区金融街街道华远街11号置地星座" }, { "g": "a1buu3jjt", "count": 100, "swY": 116.37824722, "swX": 39.9152054, "neY": 116.37935404, "neX": 39.91629452, "name": "北京君太百货", "addr": "西城区金融街街道哈根达斯(北京君太百货)西单商业街" }, { "g": "a1buueeys", "count": 100, "swY": 116.37714043, "swX": 39.91629452, "neY": 116.37824722, "neX": 39.91738351, "name": "山水宾馆", "addr": "西城区金融街街道华远北街11号山水宾馆" }, { "g": "a1buurbcs", "count": 100, "swY": 116.37713967, "swX": 39.91740536, "neY": 116.37824643, "neX": 39.91849437, "name": "郑王府", "addr": "西城区金融街街道中国教育发展基金会郑王府" }, { "g": "a1buvc35f", "count": 100, "swY": 116.36607307, "swX": 39.91941354, "neY": 116.36718101, "neX": 39.92050492, "name": "交通银行(北京金融大街支行)", "addr": "西城区金融街街道金融大街航宇大厦" }, { "g": "a1buvc35g", "count": 100, "swY": 116.36718034, "swX": 39.91943358, "neY": 116.36828806, "neX": 39.92052442, "name": "交通银行(北京金融大街支行)", "addr": "西城区金融街街道广宁伯街23号中国大唐集团公司" }, { "g": "a1buvc35h", "count": 100, "swY": 116.36828739, "swX": 39.91945409, "neY": 116.36939491, "neX": 39.92054446, "name": "格瑞仕商务中心", "addr": "西城区金融街街道广宁伯街5号" }, { "g": "a1buvnzkf", "count": 100, "swY": 116.36607245, "swX": 39.92052442, "neY": 116.36718034, "neX": 39.92161581, "name": "中国建设银行(月坛支行)", "addr": "西城区金融街街道金融大街航宇大厦" }, { "g": "a1buvnzkg", "count": 100, "swY": 116.36717972, "swX": 39.92054446, "neY": 116.36828739, "neX": 39.92163532, "name": "北京金融街丽思卡尔顿酒店", "addr": "西城区金融街街道北京金融街丽思卡尔顿酒店金融街购物中心" }, { "g": "a1buvnzkh", "count": 100, "swY": 116.36828676, "swX": 39.92056497, "neY": 116.36939424, "neX": 39.92165536, "name": "北京金融街丽思卡尔顿酒店", "addr": "西城区金融街街道北京金融街丽思卡尔顿酒店金融街购物中心" }, { "g": "a1buvyvzf", "count": 100, "swY": 116.36607187, "swX": 39.92163532, "neY": 116.36717972, "neX": 39.92272673, "name": "国寿会议中心", "addr": "西城区金融街街道金融大街金融街购物中心" }, { "g": "a1buvyvzg", "count": 100, "swY": 116.36717914, "swX": 39.92165536, "neY": 116.36828676, "neX": 39.92274623, "name": "北京金融街中心广场", "addr": "西城区金融街街道屈臣氏(金融街购物中心1期)北京金融街中心广场" }, { "g": "a1buvyvzh", "count": 100, "swY": 116.36828618, "swX": 39.92167587, "neY": 116.36939361, "neX": 39.92276627, "name": "金融街购物中心", "addr": "西城区金融街街道金城坊街23号北京金融街中心广场" }, { "g": "a1bux6emh", "count": 100, "swY": 116.36828439, "swX": 39.92611962, "neY": 116.3693916, "neX": 39.9272101, "name": "金融街E区", "addr": "西城区金融街街道锦什坊街35号院金融街E区" }, { "g": "a1bux6emj", "count": 100, "swY": 116.36939123, "swX": 39.92614054, "neY": 116.37049826, "neX": 39.92723061, "name": "全国政协宿舍", "addr": "西城区金融街街道锦什坊街100号全国政协" }, { "g": "a1bux6emk", "count": 100, "swY": 116.3704979, "swX": 39.92616179, "neY": 116.37160477, "neX": 39.92725152, "name": "北京银行(白塔寺支行)", "addr": "西城区金融街街道太平桥大街" }, { "g": "a1buxhb0h", "count": 100, "swY": 116.36828408, "swX": 39.92723061, "neY": 116.36939123, "neX": 39.9283211, "name": "恒奥中心D座", "addr": "西城区金融街街道清真普寿寺" }, { "g": "a1buxhb0j", "count": 100, "swY": 116.36939092, "swX": 39.92725152, "neY": 116.3704979, "neX": 39.92834161, "name": "中国建设银行(北京丰盛支行)", "addr": "西城区金融街街道恒奥中心D座恒奥中心" }, { "g": "a1buxhb0k", "count": 100, "swY": 116.37049759, "swX": 39.92727278, "neY": 116.3716044, "neX": 39.92836253, "name": "中国建设银行(北京丰盛支行)", "addr": "西城区金融街街道太平桥大街恒奥中心" }, { "g": "a1buxu6eh", "count": 100, "swY": 116.36828382, "swX": 39.92834161, "neY": 116.36939092, "neX": 39.92943213, "name": "民康泰小吃店", "addr": "西城区金融街街道民康泰小吃店北京丰盛中医骨伤专科医院" }, { "g": "a1buxu6ej", "count": 100, "swY": 116.36939067, "swX": 39.92836253, "neY": 116.37049759, "neX": 39.92945264, "name": "恒奥中心A座", "addr": "西城区金融街街道阜成门内大街256号" }, { "g": "a1buxu6ek", "count": 100, "swY": 116.37049733, "swX": 39.92838378, "neY": 116.37160409, "neX": 39.92947355, "name": "中国建设银行(北京丰盛支行)", "addr": "西城区金融街街道太平桥大街恒奥中心" }], "streets": [{ "g": "a1burbjws", "swY": 116.37714938, "swX": 39.9051865, "neY": 116.37825635, "neX": 39.90627544, "district": "西城区", "name": "参考消息报(Reference News)", "addr": "西城区金融街街道宣武门西大街新华社新闻大厦" }, { "g": "a1burbjwt", "swY": 116.37825539, "swX": 39.90520821, "neY": 116.37936235, "neX": 39.90629729, "district": "西城区", "name": "新华社新闻大厦", "addr": "西城区金融街街道宣武门西大街" }, { "g": "a1burbjwu", "swY": 116.37936139, "swX": 39.9052297, "neY": 116.38046837, "neX": 39.906319, "district": "西城区", "name": "宣武门(地铁站)", "addr": "西城区金融街街道宣武门西大街" }, { "g": "a1buu3jjs", "swY": 116.37714122, "swX": 39.91518369, "neY": 116.37824804, "neX": 39.91627267, "district": "西城区", "name": "洪城铭豪商务酒店", "addr": "西城区金融街街道华远街11号置地星座" }, { "g": "a1buu3jjt", "swY": 116.37824722, "swX": 39.9152054, "neY": 116.37935404, "neX": 39.91629452, "district": "西城区", "name": "北京君太百货", "addr": "西城区金融街街道哈根达斯(北京君太百货)西单商业街" }, { "g": "a1buueeys", "swY": 116.37714043, "swX": 39.91629452, "neY": 116.37824722, "neX": 39.91738351, "district": "西城区", "name": "山水宾馆", "addr": "西城区金融街街道华远北街11号山水宾馆" }, { "g": "a1buurbcs", "swY": 116.37713967, "swX": 39.91740536, "neY": 116.37824643, "neX": 39.91849437, "district": "西城区", "name": "郑王府", "addr": "西城区金融街街道中国教育发展基金会郑王府" }, { "g": "a1buvc35f", "swY": 116.36607307, "swX": 39.91941354, "neY": 116.36718101, "neX": 39.92050492, "district": "西城区", "name": "交通银行(北京金融大街支行)", "addr": "西城区金融街街道金融大街航宇大厦" }, { "g": "a1buvc35h", "swY": 116.36828739, "swX": 39.91945409, "neY": 116.36939491, "neX": 39.92054446, "district": "西城区", "name": "格瑞仕商务中心", "addr": "西城区金融街街道广宁伯街5号" }, { "g": "a1buvnzkf", "swY": 116.36607245, "swX": 39.92052442, "neY": 116.36718034, "neX": 39.92161581, "district": "西城区", "name": "中国建设银行(月坛支行)", "addr": "西城区金融街街道金融大街航宇大厦" }, { "g": "a1buvnzkg", "swY": 116.36717972, "swX": 39.92054446, "neY": 116.36828739, "neX": 39.92163532, "district": "西城区", "name": "北京金融街丽思卡尔顿酒店", "addr": "西城区金融街街道北京金融街丽思卡尔顿酒店金融街购物中心" }, { "g": "a1buvyvzf", "swY": 116.36607187, "swX": 39.92163532, "neY": 116.36717972, "neX": 39.92272673, "district": "西城区", "name": "国寿会议中心", "addr": "西城区金融街街道金融大街金融街购物中心" }, { "g": "a1buvyvzg", "swY": 116.36717914, "swX": 39.92165536, "neY": 116.36828676, "neX": 39.92274623, "district": "西城区", "name": "北京金融街中心广场", "addr": "西城区金融街街道屈臣氏(金融街购物中心1期)北京金融街中心广场" }, { "g": "a1buvyvzh", "swY": 116.36828618, "swX": 39.92167587, "neY": 116.36939361, "neX": 39.92276627, "district": "西城区", "name": "金融街购物中心", "addr": "西城区金融街街道金城坊街23号北京金融街中心广场" }, { "g": "a1bux6emh", "swY": 116.36828439, "swX": 39.92611962, "neY": 116.3693916, "neX": 39.9272101, "district": "西城区", "name": "金融街E区", "addr": "西城区金融街街道锦什坊街35号院金融街E区" }, { "g": "a1bux6emj", "swY": 116.36939123, "swX": 39.92614054, "neY": 116.37049826, "neX": 39.92723061, "district": "西城区", "name": "全国政协宿舍", "addr": "西城区金融街街道锦什坊街100号全国政协" }, { "g": "a1bux6emk", "swY": 116.3704979, "swX": 39.92616179, "neY": 116.37160477, "neX": 39.92725152, "district": "西城区", "name": "北京银行(白塔寺支行)", "addr": "西城区金融街街道太平桥大街" }, { "g": "a1buxhb0h", "swY": 116.36828408, "swX": 39.92723061, "neY": 116.36939123, "neX": 39.9283211, "district": "西城区", "name": "恒奥中心D座", "addr": "西城区金融街街道清真普寿寺" }, { "g": "a1buxhb0j", "swY": 116.36939092, "swX": 39.92725152, "neY": 116.3704979, "neX": 39.92834161, "district": "西城区", "name": "中国建设银行(北京丰盛支行)", "addr": "西城区金融街街道恒奥中心D座恒奥中心" }, { "g": "a1buxu6eh", "swY": 116.36828382, "swX": 39.92834161, "neY": 116.36939092, "neX": 39.92943213, "district": "西城区", "name": "民康泰小吃店", "addr": "西城区金融街街道民康泰小吃店北京丰盛中医骨伤专科医院" }, { "g": "a1buxu6ej", "swY": 116.36939067, "swX": 39.92836253, "neY": 116.37049759, "neX": 39.92945264, "district": "西城区", "name": "恒奥中心A座", "addr": "西城区金融街街道阜成门内大街256号" }] } }
var PolygonOverlay = new inMap.SSPolygonOverlay({
    name: '北京街道围栏',
    tooltip: {
        show: true,
        customClass: "poly",
        formatter: (params, dom, callback) => {
            return (`
            <div class="ml_tooltip">
                <div class="top">
                    <div class="level">
                        <div class="name">${params.name}</div>
                        <div>当前区域</div>
                    </div>
                    <div class="rank">
                        <div>${params.count}</div>
                        <div>网格数</div>
                    </div>
                </div>
            </div>`);
        }
    },
    style: {
        normal: {
            borderWidth: 1,
            backgroundColor: "rgba(0,255,129,0.15)",
            borderColor: '#00b337'
        },
        mouseOver: {
            borderWidth: 1,
            backgroundColor: "rgba(0,255,129,0.15)",
            borderColor: '#008f2b'
        },
    },
    data: cityData,
    event: {
        onMouseOver(item, e) {
            // console.log(111,this,item, e)
            // this.setTooltipIsShow(true)
        },
        onMouseEnter(item, e) {
            // console.log(222,this,item, e)
            this.setTooltipIsShow(true)
        },
    }
});
inmap.add(PolygonOverlay);
PolygonOverlay.setZIndex(100);





function drawPoints() {
    let rectOverlay = new inMap.RectOverlay({
        name: '区位筛选',
        style: {
            normal: {
                size: 20.6,
                padding: 1,
            },
            colors: [
                'rgba(0,179,55,0.60)'
            ],
            mouseOver: {
                backgroundColor: 'rgba(56,72,195,0.80)'
            },
            selected: {
                backgroundColor: 'rgba(56,72,195,0.80)'
            },
        },
        tooltip: {
            show: true,
            customClass: "rect",
            formatter: (params, dom, callback) => {
                return (`
            <div class="mapLabel mapShaixuan">
                <div class="arraw"></div>
                <div class="header">
                    <div class="name">1111</div>
                    <div class="type">区域名称</div>
                </div>
            </div>`);
            }
        },
        legend: {
            show: false
        },
        event: {
            onMouseOver(item, e) {},
            onState(state) {

            }
        }
    });
    let recData = rec.data.grids;

    recData && recData.map((item, index) => {
        item.index = index + 1;
        item.geometry = {
            'type': 'Point',
            'coordinates': [String(item.neY), String(item.neX)]
        };
    });
    rectOverlay.setPoints(recData || []);
    inmap.add(rectOverlay);
    rectOverlay.setZIndex(300);
}

drawPoints();

function createDotOverlay() {
    let list = data.data.storeList;
    // console.log('Dot类',list)
    // list.map((item,index)=>{
    //     if(item.address && item.address.indexOf('小屯路')>-1){
    //     console.log(index)

    //     }
    // })
    // console.log(list[325])
    let overlay = new inMap.SSPointOverlay({
        name: 'point类',
        tooltip: {
            show: false,
            customClass: 'point',
        },
        style: {
            normal: {
                backgroundColor: 'rgba(129, 186, 246, 0.10)',
                borderColor: 'rgba(45, 140, 240, 0.60)',
                borderWidth: 1,
                unit: 'm',
                size: 500
            },
            mouseOver: {
                backgroundColor: 'rgba(56,72,195,0)'
            },
        },
        event: {
            onMouseEnter(item, e) {
                PolygonOverlay.setTooltipIsShow(false);
            },
        },
        // selected: [list[325]],
    });
    //去掉点击事件
    // overlay._tMouseClick = null;
    overlay.type = 1;
    inmap.add(overlay);
    return overlay;
}
let s = 'http://www.wulihub.com.cn/go/JPVkkW/';

function createImgOverlay(type) {
    let img = new Image();
    if (type === 1) {
        img.src = s + 'dot_mine.png';
    } else {
        img.src = s + 'dot_pc.png';
    }
    let hoverImg = new Image();
    hoverImg.src = s + 'dot_hover.png';

    let overlay = new inMap.SSImgOverlay({
        name: 'img类',
        tooltip: {
            show: true,
            customClass: "img",
            offsets: {
                top: -50,
                left: 12,
                bottom: 30
            },
            async formatter(params, dom) {
                let arrowBottom = ''
                setTimeout(() => {
                    let b = dom.getAttribute('data-bottom');
                    // console.log(dom, b)
                    if (b !== null) {
                        arrowBottom = 'margin-top:' + (b - 20) + 'px';
                    } else {
                        arrowBottom = 'margin-top:18px';
                    }
                }, 200)
                if (type === 1) {

                    let message;
                    if (params.incomeMonthly == '0') {
                        message = '月流水未上传';
                    } else {
                        message = '月流水<em>' + params.incomeMonthly + '</em>元';
                    }

                    return (`
                        <div class="mapLabel">
                            <div class="arraw" style="${arrowBottom}"></div>
                            <div class="edit"></div>
                            <div class="header">
                                <div class="name">${params.name}</div>
                                <div class="type">我的门店</div>
                            </div>
                            <div class="content">
                                <div class="box addr">
                                    <span>地址</span>
                                    <span>${params.address}</span>
                                </div>
                                <div class="box">
                                    <span>月营业额</span>
                                    <span>${message}</span>
                                </div>
                                <div class="box">
                                    <span>面积</span>
                                    <span>${params.area}</span>
                                </div>
                                <div class="box">
                                    <span>租金</span>
                                    <span>${params.rent}</span>
                                </div>
                                <div class="box">
                                    <span>经营状况</span>
                                    <span>${params.situation}</span>
                                </div>
                            </div>
                        </div>`);
                } else {
                    return (`
                        <div class="mapLabel"><div class="name">${params.name}</div><div class="arraw"></div></div>
                    `);
                }

            },
        },
        style: {
            normal: {
                icon: img,
                width: 24,
                height: 24,
                offsets: {
                    top: "-90%",
                    left: "-40%",
                }
            },
            mouseOver: {
                icon: hoverImg,
                width: 24,
                height: 24,
                offsets: {
                    top: "-90%",
                    left: "-40%",
                }
            },
            selected: {
                backgroundColor: 'rgba(184,0,0,1)',
                borderColor: "rgba(255,255,255,1)"
            },
        },
        event: {
            onState: (state) => {
                if (state == 3) {}
            },
            onMouseOver: (item, event) => {},
        }
    });
    inmap.add(overlay);

    return overlay;
}
let dotoverlay1,
    imgoverlay1;

function myShop() {
    //我的门店
    let points1 = data.data.storeList;
    points1.map(item => {
        item.count = 6;
        item.geometry = {
            'type': 'Point',
            'coordinates': [String(item.lng), String(item.lat)]
        };
    });
    dotoverlay1 = createDotOverlay();
    dotoverlay1.setData(points1);
    dotoverlay1.setZIndex(600);

    imgoverlay1 = createImgOverlay(1);
    imgoverlay1.type = 3;
    imgoverlay1.element = dotoverlay1;
    imgoverlay1.setData(points1);
    imgoverlay1.setZIndex(699);
    // console.log('overlay is ', overlay)
    // console.log('map is ', this.inmap)
}
myShop();
</script>